<section class="mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:px-8">
  <header class="mb-12 text-center">
    <h1 class="text-3xl font-bold text-slate-900 sm:text-4xl">الفئات الرئيسية</h1>
    <p class="mt-2 text-base font-medium text-slate-500" lang="ru">Основные категории</p>
  </header>

  <div
    *ngIf="categories$ | async as categories; else loading"
    class="grid gap-8 sm:grid-cols-2 xl:grid-cols-3"
  >
    <a
      *ngFor="let category of categories"
      [routerLink]="['/categories', category.id]"
      class="group flex h-full flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-900/60"
    >
      <div class="relative aspect-[4/3] overflow-hidden">
        <img
          class="h-full w-full object-cover transition duration-500 group-hover:scale-105"
          [src]="category.imageUrl"
          [alt]="category.name.ar"
        />
      </div>

      <div class="flex flex-1 flex-col justify-between gap-6 p-6">
        <div class="space-y-3">
          <h2 class="text-2xl font-semibold text-slate-900">
            <span class="block">{{ category.name.ar }}</span>
            <span class="block text-base font-medium text-slate-500" lang="ru">
              {{ category.name.ru }}
            </span>
          </h2>

          <p class="text-sm leading-relaxed text-slate-600">
            <span class="block">{{ category.description.ar }}</span>
            <span class="block" lang="ru">{{ category.description.ru }}</span>
          </p>
        </div>

        <dl class="grid grid-cols-2 gap-4 text-start">
          <div class="rounded-2xl bg-slate-50 p-4 text-slate-700">
            <dt class="text-xs font-semibold tracking-wide text-slate-500">
              <span class="block">التصنيفات الفرعية</span>
              <span class="block font-normal" lang="ru">Подкатегории</span>
            </dt>
            <dd class="mt-2 text-2xl font-bold text-slate-900">
              {{ category.subcategoryCount }}
            </dd>
          </div>

          <div class="rounded-2xl bg-slate-50 p-4 text-slate-700">
            <dt class="text-xs font-semibold tracking-wide text-slate-500">
              <span class="block">العناصر في المتجر</span>
              <span class="block font-normal" lang="ru">Товары в разделе</span>
            </dt>
            <dd class="mt-2 text-2xl font-bold text-slate-900">
              {{ category.productCount }}
            </dd>
          </div>
        </dl>
      </div>
    </a>
  </div>

  <ng-template #loading>
    <p class="text-center text-sm font-medium text-slate-500">
      ...جاري تحميل الفئات / Загрузка категорий...
    </p>
  </ng-template>
</section>
